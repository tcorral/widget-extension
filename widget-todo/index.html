<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" xmlns:g="http://www.backbase.com/2008/gadget">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Blackboxed Widget</title>
    <link rel="stylesheet" href="dist/styles/base.css" type="text/css"/>
    <script type="text/javascript">
        function injectHTML(widget) {
            var staticPath = 'bower_components';
            var modulesPath = '/';
            var template = staticPath + modulesPath + widget.getPreference('main:module') + '/templates/' + widget.getPreference('main:template');
            $.ajax({
                        url: template,
                        dataType: 'text'
                    })
                    .then(function (html) {
                        widget.body.innerHTML = html;
                    });
        }
    </script>
</head>

<body g:onload="requireWidget(__WIDGET__, './dist/scripts/main');injectHTML(__WIDGET__);">
</body>

</html>
